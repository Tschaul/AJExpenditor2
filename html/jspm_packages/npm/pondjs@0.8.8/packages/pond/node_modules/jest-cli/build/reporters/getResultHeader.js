/* */ 
'use strict';
const chalk = require('../../../chalk/index');
var _require = require('./utils');
const formatTestPath = _require.formatTestPath;
const LONG_TEST_COLOR = chalk.reset.bold.bgRed;
const FAIL = chalk.reset.inverse.bold.red(' FAIL ');
const PASS = chalk.reset.inverse.bold.green(' PASS ');
module.exports = (result, config) => {
  const testPath = result.testFilePath;
  const status = result.numFailingTests > 0 || result.testExecError ? FAIL : PASS;
  const runTime = result.perfStats ? (result.perfStats.end - result.perfStats.start) / 1000 : null;
  const testDetail = [];
  if (runTime !== null && runTime > 5) {
    testDetail.push(LONG_TEST_COLOR(runTime + 's'));
  }
  if (result.memoryUsage) {
    const toMB = (bytes) => Math.floor(bytes / 1024 / 1024);
    testDetail.push(`${toMB(result.memoryUsage)} MB heap size`);
  }
  return (`${status} ${formatTestPath(config, testPath)}` + (testDetail.length ? ` (${testDetail.join(', ')})` : ''));
};
