/* */ 
'use strict';
const getTestPathPattern = require('./getTestPathPattern');
module.exports = (argv, mode, options) => {
  if (mode === 'watch') {
    argv.watch = true;
    argv.watchAll = false;
  } else if (mode === 'watchAll') {
    argv.watch = false;
    argv.watchAll = true;
  }
  if (options.testPathPattern) {
    argv.testPathPattern = options.testPathPattern;
  } else if (options.testPathPattern === '') {
    delete argv.testPathPattern;
    delete argv._;
  }
  if (options.testNamePattern) {
    argv.testNamePattern = options.testNamePattern;
  } else if (options.testNamePattern === '') {
    delete argv.testNamePattern;
  }
  argv.onlyChanged = false;
  argv.onlyChanged = getTestPathPattern(argv).input === '' && !argv.watchAll && !argv.testNamePattern;
  if (options.noSCM) {
    argv.noSCM = true;
  }
};
